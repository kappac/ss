{"version":3,"sources":["components/Rates/Header.module.scss","components/Rates/Cell.module.scss","components/App/App.module.scss","components/Controls/Controls.module.scss","components/Rates/Rates.module.scss","store/index.js","components/Controls/Controls.jsx","utils/createAction.js","utils/createActionType.js","store/rates/constants/namespace.js","store/rates/constants/actionTypes.js","store/rates/actions.js","store/rates/epics.js","store/rates/reducers/index.js","store/rates/reducers/updateSymbols.js","store/rates/reducers/updateTickers.js","store/rates/selectors.js","components/Rates/useRates.js","components/Rates/Header.jsx","components/Rates/Cell.jsx","components/Rates/useCell.js","components/Rates/Row.jsx","components/Rates/Rates.jsx","components/App/App.jsx","components/App/useApp.js","store/epics.js","store/initialState.js","store/reducers.js","store/configureStore.js","index.js"],"names":["module","exports","_store","topValues","value","label","Controls","className","top","onTopChange","cx","Styles","htmlFor","name","onChange","e","target","map","createAction","type","payload","action","createActionType","nameSpace","actionType","Namespace","ActionTypes","Init","Connect","GetSymbols","UpdateSymbols","SubscribeTickers","UpdateTickers","epics","action$","pipe","ofType","mapTo","state$","client","switchMap","Promise","resolve","connect","send","_","reply","symbolsToWatchFor","id","symbol","fromEventPattern","handler","expose","bufferTime","tickers","reducers","state","symbols","reduce","res","acc","ticker","namespaceSelector","defaultSelectTickersProperty","useRates","property","desc","useSelector","createSelector","tickersToShow","Object","values","sort","a","b","slice","selectTickers","existingSymbols","selectSymbols","data","reverse","columns","Header","onSortChange","useState","undefined","setSort","onClickHandler","useCallback","column","attributes","getNamedItem","useEffect","onClick","data-id","SortNone","SortAsc","SortDesc","Cell","classes","prevValue","useRef","classesTimeout","setClasses","vn","parseFloat","pvn","current","Down","Up","clearTimeout","setTimeout","useCell","Row","bid","ask","high","low","last","Rates","idx","baseCurrency","feeCurrency","App","setTop","dispatch","useDispatch","Actions","useApp","AppControls","combineEpics","RatesEpics","initialState","RatesNamespace","handleActions","RatesReducers","epicMiddleware","createEpicMiddleware","dependencies","JsonRpcWs","createClient","middlewares","store","createStore","reducer","composeWithDevTools","applyMiddleware","run","epic","configureStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3f49392.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SortNone\":\"Header_SortNone__sFmE8\",\"SortAsc\":\"Header_SortAsc__3qRpv\",\"SortDesc\":\"Header_SortDesc__2AANh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Up\":\"Cell_Up__2D7RC\",\"Down\":\"Cell_Down__1sSlW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2mBMi\",\"AppControls\":\"App_AppControls__1mn9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Controls\":\"Controls_Controls__EJ-cX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Rates\":\"Rates_Rates__14jyy\"};","import { configureStore } from './configureStore';\n\nlet _store;\n\nexport default _store || (_store = configureStore());\n","import React from 'react';\nimport cx from 'classnames';\n\nimport Styles from './Controls.module.scss';\n\nconst topValues = [\n  { value: -1, label: 'All' },\n  { value: 50, label: '50' }\n];\n\nexport const Controls = ({\n  className,\n  top,\n  onTopChange\n}) => {\n  return (\n    <div className={cx(Styles.Controls, className)}>\n      <label htmlFor=\"top\">Amount to show:</label>\n      <select name=\"top\" value={top} onChange={(e) => onTopChange(e.target.value)}>\n        { topValues.map(({ value, label }) => (\n          <option key={value} value={value}>{ label }</option>\n        )) }\n      </select>\n    </div>\n  );\n};\n","export const createAction = (type) => (payload) => {\n  const action = { type };\n\n  if (typeof payload !== \"undefined\") {\n    action.payload = payload;\n  }\n\n  return action;\n};\n","export const createActionType = (nameSpace, actionType) => `${nameSpace}:${actionType}`;\n","export const Namespace = 'Rates';\n","import  { createActionType } from '@utils';\nimport { Namespace } from './namespace';\n\nexport const ActionTypes = {\n  Init: createActionType(Namespace, 'Init'),\n  Connect: createActionType(Namespace, 'Connect'),\n  GetSymbols: createActionType(Namespace, 'GetSymbols'),\n  UpdateSymbols: createActionType(Namespace, 'UpdateSymbols'),\n  SubscribeTickers: createActionType(Namespace, 'SubscribeTickers'),\n  UpdateTickers: createActionType(Namespace, 'UpdateTickers')\n};\n","import  { createAction } from '@utils';\nimport { ActionTypes } from './constants';\n\nexport const Init = createAction(ActionTypes.Init);\n\nexport const Connect = createAction(ActionTypes.Connect);\n\nexport const GetSymbols = createAction(ActionTypes.GetSymbols);\n\nexport const UpdateSymbols = createAction(ActionTypes.UpdateSymbols);\n\nexport const SubscribeTickers = createAction(ActionTypes.SubscribeTickers);\n\nexport const UpdateTickers = createAction(ActionTypes.UpdateTickers);\n","import { fromEventPattern } from 'rxjs';\nimport { bufferTime, map, mapTo, switchMap } from 'rxjs/operators';\nimport { ofType } from 'redux-observable';\n\nimport { Connect, GetSymbols, UpdateSymbols, UpdateTickers, SubscribeTickers } from './actions';\nimport { ActionTypes } from './constants';\n\nconst initEpic = (action$) =>\n  action$.pipe(\n    ofType(ActionTypes.Init),\n    mapTo(Connect())\n  );\n\nconst connectUrl = 'wss://api.exchange.bitcoin.com/api/2/ws';\nconst connectEpic = (action$, state$, { client }) =>\n  action$.pipe(\n    ofType(ActionTypes.Connect),\n    switchMap(() => new Promise(\n      (resolve) => {\n        client.connect(connectUrl, resolve);\n      }\n    )),\n    mapTo(GetSymbols())\n  );\n\nconst getSymbolsEpic = (action$, state$, { client }) =>\n  action$.pipe(\n    ofType(ActionTypes.GetSymbols),\n    switchMap(() => new Promise(\n      (resolve) => {\n        client.send('getSymbols', {}, (_, reply = []) => resolve(reply));\n      }\n    )),\n    map((reply) => UpdateSymbols(reply))\n  );\n\nconst updateSymbolsEpic = (action$) =>\n  action$.pipe(\n    ofType(ActionTypes.UpdateSymbols),\n    map(({ payload: symbols = [] }) => {\n      const symbolsToWatchFor = symbols.map(({ id }) => id);\n      return SubscribeTickers(symbolsToWatchFor);\n    })\n  );\n\nconst subscribeTickersEpic = (action$, state$, { client }) =>\n  action$.pipe(\n    ofType(ActionTypes.SubscribeTickers),\n    switchMap(({ payload: symbols }) => {\n      symbols.map(\n        (symbol) => client.send('subscribeTicker', { symbol })\n      );\n      return fromEventPattern(\n        (handler) => client.expose('ticker', handler)\n      );\n    }),\n    map(([ ticker ]) => ticker),\n    bufferTime(500),\n    map((tickers) => UpdateTickers(tickers))\n  );\n\nconst epics = [\n  initEpic,\n  connectEpic,\n  getSymbolsEpic,\n  updateSymbolsEpic,\n  subscribeTickersEpic\n];\n\nexport default epics;\n","import { ActionTypes } from '../constants';\n\nimport { updateSymbols } from './updateSymbols';\nimport { updateTickers } from './updateTickers';\n\nconst reducers = {\n  [ActionTypes.UpdateSymbols]: updateSymbols,\n  [ActionTypes.UpdateTickers]: updateTickers\n};\n\nexport default reducers;\n","import { Namespace } from '../constants';\n\nexport const updateSymbols = (state, { payload: symbols = [] }) => ({\n  ...state,\n  [Namespace]: {\n    ...state[Namespace],\n    symbols: symbols.reduce(\n      (res, symbol) => ({\n        ...res,\n        [symbol.id]: {\n          ...state[Namespace].symbols[symbol.id],\n          ...symbol\n        }\n      }),\n      { ...state[Namespace].symbols }\n    )\n  }\n});\n","import { Namespace } from '../constants';\n\nexport const updateTickers = (state, { payload: tickers }) => ({\n  ...state,\n  [Namespace]: {\n    ...state[Namespace],\n    symbols: tickers.reduce(\n      (acc, ticker) => ({\n        ...acc,\n        [ticker.symbol]: {\n          ...state[Namespace].symbols[ticker.symbol],\n          ...ticker\n        }\n      }),\n      { ...state[Namespace].symbols }\n    )\n  }\n});\n","import { createSelector } from 'reselect';\nimport { Namespace } from './constants';\n\nexport const namespaceSelector = (state) => state?.[Namespace] || {};\n\nexport const selectSymbols = (symbols) => \n  createSelector(\n    namespaceSelector,\n    ({ symbols: existingSymbols }) => symbols.reduce(\n      (acc, symbol) => ({\n        ...acc,\n        [symbol]: existingSymbols[symbol]\n      }),\n      {}\n    )\n  );\n\nconst defaultSelectTickersTop = -1;\nconst defaultSelectTickersProperty = 'last';\nexport const selectTickers = (top = defaultSelectTickersTop, property = defaultSelectTickersProperty) =>\n  createSelector(\n    namespaceSelector,\n    ({ symbols }) => {\n      const tickersToShow = Object\n        .values(symbols)\n        .sort((a, b) => +a[property] === +b[property] ? 0 : (+a[property] > +b[property] ? -1 : 1));\n\n      if (top === defaultSelectTickersTop) {\n        return tickersToShow;\n      }\n\n      return tickersToShow.slice(0, top);\n    }\n  );\n","import { useSelector } from 'react-redux';\nimport { selectSymbols, selectTickers } from '@store/rates';\n\nexport const useRates = (top, property, desc) => {\n  const tickers = useSelector(selectTickers(top, property));\n  const symbols = useSelector(\n    selectSymbols(\n      tickers.map(({ symbol }) => symbol)\n    )\n  );\n  const data = tickers.map((ticker) => ({\n    ...ticker,\n    ...symbols[ticker.symbol] || {}\n  }));\n\n  if (desc) {\n    data.reverse();\n  }\n\n  return { data };\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport cx from 'classnames';\n\nimport Styles from './Header.module.scss';\n\nconst columns = [\n  { id: 'ticker', label: 'Ticker' },\n  { id: 'bid', label: 'Bid' },\n  { id: 'ask', label: 'Ask' },\n  { id: 'high', label: 'High' },\n  { id: 'low', label: 'Low' },\n  { id: 'last', label: 'Last' },\n];\n\nexport const Header = ({\n  onSortChange\n}) => {\n  const [ sort, setSort ] = useState({ property: undefined, desc: false });\n  const onClickHandler = useCallback((e) => {\n    const { value: column } = e.target.attributes.getNamedItem('data-id');\n\n    setSort(\n      ({ property, desc }) => {\n        if (property !== column) {\n          return {\n            property: column,\n            desc: false\n          };\n        }\n\n        return {\n          property: column,\n          desc: !desc\n        };\n      }\n    );\n  }, [ setSort ]);\n\n  useEffect(() => sort.property !== 'ticker' && onSortChange(sort), [ sort, onSortChange ]);\n\n  return (\n    <thead onClick={ onClickHandler }>\n      <tr>\n        { columns.map(({ id, label }) => (\n          <th\n            key={id}\n            data-id={id}\n            className={cx({\n              [Styles.SortNone]: id !== 'ticker' && sort.property !== id,\n              [Styles.SortAsc]: id !== 'ticker' && sort.property === id && !sort.desc,\n              [Styles.SortDesc]: id !== 'ticker' && sort.property === id && sort.desc\n            })}\n          >\n            { label }\n          </th>\n        )) }\n      </tr>\n    </thead>\n  );\n};\n","import React from 'react';\nimport cx from 'classnames';\n\nimport { useCell } from './useCell';\n\nexport const Cell = ({\n  value\n}) => {\n  const classes = useCell(value);\n\n  return <td className={cx(classes)}>{ value }</td>;\n};\n","import { useEffect, useRef, useState } from 'react';\n\nimport Styles from './Cell.module.scss';\n\nconst timeout = 200;\n\nexport const useCell = (value) => {\n  const prevValue = useRef(value);\n  const classesTimeout = useRef();\n  const [ classes, setClasses ] = useState('');\n\n  useEffect(() => {\n    const vn = parseFloat(value);\n    const pvn = parseFloat(prevValue.current);\n\n    if (vn < pvn) {\n      setClasses(Styles.Down);\n    }\n\n    if (vn > pvn) {\n      setClasses(Styles.Up);\n    }\n\n    if (classesTimeout.current) {\n      clearTimeout(classesTimeout);\n    }\n\n    classesTimeout.current = setTimeout(() => {\n      setClasses('');\n    }, timeout);\n\n    prevValue.current = value;\n  }, [ value, setClasses ]);\n\n  return classes;\n};\n","import React from 'react';\n\nimport { Cell } from './Cell';\n\nexport const Row = ({ ticker, bid, ask, high, low, last }) => {\n  return (\n    <tr>\n      <Cell value={ticker} />\n      <Cell value={bid} />\n      <Cell value={ask} />\n      <Cell value={high} />\n      <Cell value={low} />\n      <Cell value={last} />\n    </tr>\n  );\n};\n","import React, { useState } from 'react';\n\nimport { useRates } from './useRates';\nimport { Header } from './Header';\nimport { Row } from './Row';\nimport Styles from './Rates.module.scss';\n\nexport const Rates = ({\n  top\n}) => {\n  const [ sort, setSort ] = useState({});\n  const { data } = useRates(top, sort.property, sort.desc);\n\n  return (\n    <div className={Styles.Rates}>\n      <table>\n        <Header onSortChange={ setSort } />\n        <tbody>\n        { data.map(({ ask, bid, high, last, low, baseCurrency, feeCurrency, symbol }, idx) => (\n          <Row\n            key={symbol || idx}\n            ticker={`${baseCurrency} / ${feeCurrency}`}\n            ask={ask}\n            bid={bid}\n            high={high}\n            last={last}\n            low={low}\n          />\n        )) }\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Controls } from '@components/Controls';\nimport { Rates } from '@components/Rates';\nimport { useApp } from './useApp';\nimport Styles from './App.module.scss';\n\nconst App = () => {\n  const [ top, setTop ] = useState(-1);\n  useApp();\n\n  return (\n    <div className={Styles.App}>\n      <Controls className={Styles.AppControls} top={top} onTopChange={setTop} />\n      <Rates top={top} />\n    </div>\n  );\n};\n\nexport { App };\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Actions } from '@store/rates';\n\nexport const useApp = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(Actions.Init());\n  }, [ dispatch ]);\n};\n","import { combineEpics } from 'redux-observable';\n\nimport { Epics as RatesEpics } from './rates';\n\nexport default combineEpics(\n  ...RatesEpics\n);\n","import { Namespace as RatesNamespace } from './rates';\n\nconst initialState = {\n  [RatesNamespace]: {\n    symbols: {}\n  }\n};\n\nexport default initialState;\n","import { handleActions } from 'redux-actions';\n\nimport { Reducers as RatesReducers } from './rates';\n\nimport initialState from './initialState';\n\nexport default handleActions(\n  {\n    ...RatesReducers\n  },\n  initialState,\n);\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { createLogger } from 'redux-logger';\nimport { createEpicMiddleware } from 'redux-observable';\nimport JsonRpcWs from 'json-rpc-ws/browser';\n\nimport epic from './epics';\nimport reducer from './reducers';\nimport initialState from './initialState';\n\nconst epicMiddleware = createEpicMiddleware({ \n  dependencies: { client: JsonRpcWs.createClient() }\n});\n\nexport const configureStore = () => {\n  const middlewares = [ epicMiddleware ];\n\n  if (process.env.NODE_ENV !== 'production') {\n    middlewares.push(\n      createLogger({\n        collapsed: true,\n        diff: true,\n        duration: true,\n        level: 'info',\n      })\n    );\n  }\n\n  const store = createStore(reducer, initialState, composeWithDevTools(\n    applyMiddleware(...middlewares)\n  ));\n\n  epicMiddleware.run(epic);\n\n  return store;\n};\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { App } from '@components/App';\nimport store from '@store';\nimport './index.scss';\n\nReactDOM.render(\n  <StrictMode>\n    <Provider store={ store }>\n      <App />\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}