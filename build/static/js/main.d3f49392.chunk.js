(this.webpackJsonpss=this.webpackJsonpss||[]).push([[0],{41:function(e,t,n){e.exports={SortNone:"Header_SortNone__sFmE8",SortAsc:"Header_SortAsc__3qRpv",SortDesc:"Header_SortDesc__2AANh"}},50:function(e,t,n){e.exports={Up:"Cell_Up__2D7RC",Down:"Cell_Down__1sSlW"}},51:function(e,t,n){e.exports={App:"App_App__2mBMi",AppControls:"App_AppControls__1mn9D"}},58:function(e,t,n){e.exports={Controls:"Controls_Controls__EJ-cX"}},62:function(e,t,n){e.exports={Rates:"Rates_Rates__14jyy"}},77:function(e,t){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"Init",(function(){return C})),n.d(c,"Connect",(function(){return g})),n.d(c,"GetSymbols",(function(){return T})),n.d(c,"UpdateSymbols",(function(){return w})),n.d(c,"SubscribeTickers",(function(){return A})),n.d(c,"UpdateTickers",(function(){return R}));var r,a,o=n(2),s=n(0),i=n(31),u=n.n(i),b=n(16),l=n(11),j=n(18),p=n.n(j),O=n(58),d=n.n(O),f=[{value:-1,label:"All"},{value:50,label:"50"}],v=function(e){var t=e.className,n=e.top,c=e.onTopChange;return Object(o.jsxs)("div",{className:p()(d.a.Controls,t),children:[Object(o.jsx)("label",{htmlFor:"top",children:"Amount to show:"}),Object(o.jsx)("select",{name:"top",value:n,onChange:function(e){return c(e.target.value)},children:f.map((function(e){var t=e.value,n=e.label;return Object(o.jsx)("option",{value:t,children:n},t)}))})]})},m=n(4),y=function(e){return function(t){var n={type:e};return"undefined"!==typeof t&&(n.payload=t),n}},h=function(e,t){return"".concat(e,":").concat(t)},S=n(66),x=(n(90),n(61),n(20)),k=(n(93),n(59),"Rates"),_={Init:h(k,"Init"),Connect:h(k,"Connect"),GetSymbols:h(k,"GetSymbols"),UpdateSymbols:h(k,"UpdateSymbols"),SubscribeTickers:h(k,"SubscribeTickers"),UpdateTickers:h(k,"UpdateTickers")},C=y(_.Init),g=y(_.Connect),T=y(_.GetSymbols),w=y(_.UpdateSymbols),A=y(_.SubscribeTickers),R=y(_.UpdateTickers),U=n(96),N=n(94),D=n(95),I=n(100),E=[function(e){return e.pipe(Object(S.a)(_.Init),Object(N.a)(g()))},function(e,t,n){var c=n.client;return e.pipe(Object(S.a)(_.Connect),Object(D.a)((function(){return new Promise((function(e){c.connect("wss://api.exchange.bitcoin.com/api/2/ws",e)}))})),Object(N.a)(T()))},function(e,t,n){var c=n.client;return e.pipe(Object(S.a)(_.GetSymbols),Object(D.a)((function(){return new Promise((function(e){c.send("getSymbols",{},(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e(n)}))}))})),Object(x.a)((function(e){return w(e)})))},function(e){return e.pipe(Object(S.a)(_.UpdateSymbols),Object(x.a)((function(e){var t=e.payload,n=(void 0===t?[]:t).map((function(e){return e.id}));return A(n)})))},function(e,t,n){var c=n.client;return e.pipe(Object(S.a)(_.SubscribeTickers),Object(D.a)((function(e){return e.payload.map((function(e){return c.send("subscribeTicker",{symbol:e})})),Object(U.a)((function(e){return c.expose("ticker",e)}))})),Object(x.a)((function(e){return Object(l.a)(e,1)[0]})),Object(I.a)(500),Object(x.a)((function(e){return R(e)})))}],G=n(6),F=(r={},Object(G.a)(r,_.UpdateSymbols,(function(e,t){var n=t.payload,c=void 0===n?[]:n;return Object(m.a)(Object(m.a)({},e),{},Object(G.a)({},k,Object(m.a)(Object(m.a)({},e.Rates),{},{symbols:c.reduce((function(t,n){return Object(m.a)(Object(m.a)({},t),{},Object(G.a)({},n.id,Object(m.a)(Object(m.a)({},e.Rates.symbols[n.id]),n)))}),Object(m.a)({},e.Rates.symbols))})))})),Object(G.a)(r,_.UpdateTickers,(function(e,t){var n=t.payload;return Object(m.a)(Object(m.a)({},e),{},Object(G.a)({},k,Object(m.a)(Object(m.a)({},e.Rates),{},{symbols:n.reduce((function(t,n){return Object(m.a)(Object(m.a)({},t),{},Object(G.a)({},n.symbol,Object(m.a)(Object(m.a)({},e.Rates.symbols[n.symbol]),n)))}),Object(m.a)({},e.Rates.symbols))})))})),r),H=n(49),B=function(e){return(null===e||void 0===e?void 0:e.Rates)||{}},J="last",M=function(e,t,n){var c=Object(b.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;return Object(H.a)(B,(function(n){var c=n.symbols,r=Object.values(c).sort((function(e,n){return+e[t]===+n[t]?0:+e[t]>+n[t]?-1:1}));return-1===e?r:r.slice(0,e)}))}(e,t)),r=Object(b.c)(function(e){return Object(H.a)(B,(function(t){var n=t.symbols;return e.reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(G.a)({},t,n[t]))}),{})}))}(c.map((function(e){return e.symbol})))),a=c.map((function(e){return Object(m.a)(Object(m.a)({},e),r[e.symbol]||{})}));return n&&a.reverse(),{data:a}},L=n(41),P=n.n(L),W=[{id:"ticker",label:"Ticker"},{id:"bid",label:"Bid"},{id:"ask",label:"Ask"},{id:"high",label:"High"},{id:"low",label:"Low"},{id:"last",label:"Last"}],q=function(e){var t=e.onSortChange,n=Object(s.useState)({property:void 0,desc:!1}),c=Object(l.a)(n,2),r=c[0],a=c[1],i=Object(s.useCallback)((function(e){var t=e.target.attributes.getNamedItem("data-id").value;a((function(e){var n=e.property,c=e.desc;return n!==t?{property:t,desc:!1}:{property:t,desc:!c}}))}),[a]);return Object(s.useEffect)((function(){return"ticker"!==r.property&&t(r)}),[r,t]),Object(o.jsx)("thead",{onClick:i,children:Object(o.jsx)("tr",{children:W.map((function(e){var t,n=e.id,c=e.label;return Object(o.jsx)("th",{"data-id":n,className:p()((t={},Object(G.a)(t,P.a.SortNone,"ticker"!==n&&r.property!==n),Object(G.a)(t,P.a.SortAsc,"ticker"!==n&&r.property===n&&!r.desc),Object(G.a)(t,P.a.SortDesc,"ticker"!==n&&r.property===n&&r.desc),t)),children:c},n)}))})})},X=n(50),z=n.n(X),K=function(e){var t=e.value,n=function(e){var t=Object(s.useRef)(e),n=Object(s.useRef)(),c=Object(s.useState)(""),r=Object(l.a)(c,2),a=r[0],o=r[1];return Object(s.useEffect)((function(){var c=parseFloat(e),r=parseFloat(t.current);c<r&&o(z.a.Down),c>r&&o(z.a.Up),n.current&&clearTimeout(n),n.current=setTimeout((function(){o("")}),200),t.current=e}),[e,o]),a}(t);return Object(o.jsx)("td",{className:p()(n),children:t})},Q=function(e){var t=e.ticker,n=e.bid,c=e.ask,r=e.high,a=e.low,s=e.last;return Object(o.jsxs)("tr",{children:[Object(o.jsx)(K,{value:t}),Object(o.jsx)(K,{value:n}),Object(o.jsx)(K,{value:c}),Object(o.jsx)(K,{value:r}),Object(o.jsx)(K,{value:a}),Object(o.jsx)(K,{value:s})]})},V=n(62),Y=n.n(V),Z=function(e){var t=e.top,n=Object(s.useState)({}),c=Object(l.a)(n,2),r=c[0],a=c[1],i=M(t,r.property,r.desc).data;return Object(o.jsx)("div",{className:Y.a.Rates,children:Object(o.jsxs)("table",{children:[Object(o.jsx)(q,{onSortChange:a}),Object(o.jsx)("tbody",{children:i.map((function(e,t){var n=e.ask,c=e.bid,r=e.high,a=e.last,s=e.low,i=e.baseCurrency,u=e.feeCurrency,b=e.symbol;return Object(o.jsx)(Q,{ticker:"".concat(i," / ").concat(u),ask:n,bid:c,high:r,last:a,low:s},b||t)}))})]})})},$=n(51),ee=n.n($),te=function(){var e=Object(s.useState)(-1),t=Object(l.a)(e,2),n=t[0],r=t[1];return function(){var e=Object(b.b)();Object(s.useEffect)((function(){e(c.Init())}),[e])}(),Object(o.jsxs)("div",{className:ee.a.App,children:[Object(o.jsx)(v,{className:ee.a.AppControls,top:n,onTopChange:r}),Object(o.jsx)(Z,{top:n})]})},ne=n(17),ce=n(63),re=(n(78),n(98)),ae=n(64),oe=n.n(ae),se=n(65),ie=n(97).a.apply(void 0,Object(se.a)(E)),ue=n(99),be=Object(G.a)({},k,{symbols:{}}),le=Object(ue.a)(Object(m.a)({},F),be),je=Object(re.a)({dependencies:{client:oe.a.createClient()}}),pe=a||(a=function(){var e=[je];var t=Object(ne.createStore)(le,be,Object(ce.composeWithDevTools)(ne.applyMiddleware.apply(void 0,e)));return je.run(ie),t}());n(88);u.a.render(Object(o.jsx)(s.StrictMode,{children:Object(o.jsx)(b.a,{store:pe,children:Object(o.jsx)(te,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.d3f49392.chunk.js.map